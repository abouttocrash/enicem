<div class="ordenes">
    <div class="header">
      <h1>Ã“rdenes</h1>
      <div class="bar">
      <auto-icem (keyup)="applyFilter($event)" [filters]="filters" [filteredFilters]="filteredFilters"></auto-icem>
      <div class="filter-holder center-ver">
        <div >
            <mat-form-field appearance="outline">
            <mat-label>Ingresa un rango de fecha</mat-label>
            <mat-date-range-input [rangePicker]="picker" >
                <input matStartDate placeholder="Start date" [(ngModel)]="fecha1">
                <input matEndDate placeholder="End date" [(ngModel)]="fecha2">
            </mat-date-range-input>
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-date-range-picker #picker></mat-date-range-picker>
        </mat-form-field>
        </div>
        <mat-form-field appearance="outline" >
            <mat-label>Tipo de orden</mat-label>
            <mat-select [(ngModel)]="tipo">
                <mat-option value="Ambas">Ambas</mat-option>
                <mat-option value="Maquinado">Maquinado</mat-option>
                <mat-option value="Detalle">Detalle</mat-option>
            </mat-select>
            
        </mat-form-field>
        <mat-form-field appearance="outline" >
            <mat-label>Status de orden</mat-label>
            <mat-select [(ngModel)]="status">
                <mat-option value="Todos">Todos</mat-option>
                <mat-option value="Abierta">Abierta</mat-option>
                <mat-option value="Cerrada">Cerrada</mat-option>
                <mat-option value="Cancelada">Cancelada</mat-option>
            </mat-select>
            
        </mat-form-field>
        
        <button class="main-cta" (click)="buscar()">
            <mat-icon >history</mat-icon>
            Buscar
        </button>
      </div>
    
    </div>
    </div>
    <div style="height: 100%;overflow-y: scroll;">
         <table mat-table 
          [dataSource]="dataSource" 
          cdkDropList
          cdkDropListOrientation="horizontal"
          (cdkDropListDropped)="drop($event)"
          matSort>

        <ng-container matColumnDef="createdAt">
          <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header> Fecha creada </th>
          <td mat-cell *matCellDef="let row"> {{row.createdAt}} </td>
         
        </ng-container>
        <ng-container matColumnDef="dateEntrega">
          <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header> Fecha estimada de entrega </th>
          <td mat-cell *matCellDef="let row"> {{row.dateEntrega}} </td>
        </ng-container>
        <ng-container matColumnDef="status">
          <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
          <td mat-cell *matCellDef="let row"> {{row.status}} </td>
        </ng-container>
        <ng-container matColumnDef="dateReal">
          <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header>Fecha entregada</th>
          <td mat-cell *matCellDef="let row"> {{row.dateReal || "-"}} </td>
        </ng-container>
        <ng-container matColumnDef="folio">
          <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header>Folio</th>
          <td mat-cell *matCellDef="let row"> {{row.folio}} </td>
        </ng-container>
        <ng-container matColumnDef="totalPiezas">
          <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header># Piezas</th>
          <td mat-cell *matCellDef="let row"> {{row.totalPiezas}} </td>
        </ng-container>
        <ng-container matColumnDef="proveedor">
          <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header>Proveedor</th>
          <td mat-cell *matCellDef="let row"> {{row.proveedor}} </td>
        </ng-container>
        <ng-container matColumnDef="tipo">
          <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header>Tipo</th>
          <td mat-cell *matCellDef="let row"> {{row.tipo}} </td>
        </ng-container>
        <ng-container matColumnDef="project">
          <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header>Proyecto</th>
          <td mat-cell *matCellDef="let row"> {{row.project}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns;sticky:true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        <!-- Row shown when there is no matching data. -->
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4"></td>
        </tr>
      </table>
      </div>

</div>
