<form class="dialog" [formGroup]="form">
    <div>
        <h2>{{title}}</h2>
    </div>
    <div>
        <mat-form-field appearance="outline">
            <mat-label>Nombre del usuario</mat-label>
            <input autocomplete="off" matInput placeholder="Nombre del usuario" formControlName="username">
             @if (!form.get("username")!.valid) {
                <mat-error>Campo requerido</mat-error>
            }
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Código de usuario</mat-label>
            <input autocomplete="off" matInput placeholder="Código de usuario" (keydown)="isNumber($event)" formControlName="code" maxlength="4" minlength="4">
             @if (!form.get("code")!.valid) {
                <mat-error>Campo requerido, 4 dígitos</mat-error>
            }
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Rol</mat-label>
            <mat-select formControlName="rol">
                @for(rol of api.roles;track rol._id){
                    <mat-option [value]="rol.rol">{{rol.rol}}</mat-option> 
                }
                
            </mat-select>
            @if (!form.get("rol")!.valid) {
                <mat-error>Rol requerido</mat-error>
            }
        </mat-form-field>
        @if(data != null){
            <mat-slide-toggle formControlName="activo" >
            Activo
            </mat-slide-toggle>
        }
        
    </div>
    <div class="dialog-bottom">
        <div>
            <button  class="secondary-cta" (click)="close()">Cancelar</button>
            <button [disabled]="!form.valid" class="main-cta" (click)="createUser()">{{boton}}</button>
        </div>
    </div>
</form>