 <div class="tab">
   <div class="bar">
        <div>
        <auto-icem appareance="fill" (keyup)="applyFilter($event)" [filters]="filters" [filteredFilters]="filteredFilters"></auto-icem>
        </div>
    
    </div>
    

    

    <div style="height: 100%;overflow-y: scroll;overflow-x: scroll;width:100%">
        <table mat-table 
            [dataSource]="s.dataSource" 
            cdkDropList
            cdkDropListOrientation="horizontal"
            (cdkDropListDropped)="drop($event)"
            matSort>

            
            <ng-container matColumnDef="folio">
                <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header> Folio salida </th>
                <td mat-cell *matCellDef="let row"> {{row.folio}} </td>
            </ng-container>
            <ng-container matColumnDef="folioOrden">
                <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header> Orden asociada</th>
                <td mat-cell *matCellDef="let row"> {{row.folioOrden || "-"}} </td>
            </ng-container>
            <ng-container matColumnDef="salidas">
                <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header> # Planos</th>
                <td mat-cell *matCellDef="let row"> {{row.salidas.length}} </td>
            </ng-container>
            <ng-container matColumnDef="tipo">
                <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header>Tipo</th>
                <td mat-cell *matCellDef="let row"> {{row.tipo}} </td>
            </ng-container>
            <ng-container matColumnDef="usuario">
                <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header>Creada por</th>
                <td mat-cell *matCellDef="let row"> {{row.usuario}} </td>
            </ng-container>
            <ng-container matColumnDef="fechaSalida">
                <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header>Fecha de salida</th>
                <td mat-cell *matCellDef="let row"> {{row.fechaSalida}} </td>
            </ng-container>
            <ng-container matColumnDef="editar">
                <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header>Editar</th>
                <td mat-cell *matCellDef="let row">
                    @if(row.tipo == "Integración" && !projectDisabled() && row.status =="ABIERTA"){
                        <mat-icon matTooltip="Editar salida" (click)="editarSalida(row)" style="color:var(--blue);cursor: pointer;">edit</mat-icon>
                    }
                </td>
            </ng-container>
            <ng-container matColumnDef="action">
                <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header>Revisión</th>
                <td mat-cell *matCellDef="let row"> 
                @if(row.tipo == "Integración" && row.status == "ABIERTA" && canApprove()){
                    <mat-icon (click)="abrirDialogoSalida(row)" style="color:var(--blue);cursor:pointer">edit_square</mat-icon>
                }
                </td>
            </ng-container>
            <ng-container matColumnDef="pdf">
                <th cdkDrag mat-header-cell *matHeaderCellDef mat-sort-header>PDF</th>
                <td mat-cell *matCellDef="let row">
                    <mat-icon matTooltip="PDF salida" (click)="getPDF(row)" style="color:var(--blue);cursor: pointer;"fontSet="material-symbols-outlined">file_save</mat-icon>
                    
                </td>
            </ng-container>
    

            <tr mat-header-row *matHeaderRowDef="s.displayedColumns;sticky:true"></tr>
            <tr mat-row *matRowDef="let row; columns: s.displayedColumns;"></tr>
            <!-- Row shown when there is no matching data. -->
            <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="4"></td>
            </tr>
        </table>
    </div>
